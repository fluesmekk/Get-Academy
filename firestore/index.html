<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
</head>

<body>
<div id="todo">Laster Data...</div>
</div>Ny todo:<input type="text" onkeydown="if(event.keyCode === 13) add(this)"></input></div>

    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-firestore.js"></script>


    <!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-analytics.js"></script>

    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            var firebaseConfig = {
                apiKey: "AIzaSyD78keWBq37WJq00wDEnPgmSf-4UJzbHmg",
                authDomain: "firestore-72554.firebaseapp.com",
                projectId: "firestore-72554",
                storageBucket: "firestore-72554.appspot.com",
                messagingSenderId: "695070734109",
                appId: "1:695070734109:web:6a4c6424caebc1298193f4",
                measurementId: "G-H9Y4RC1F0C"
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
            firebase.analytics();
            var db = firebase.firestore();


            // todoCollection.get().then(
            var todoCollection = db.collection('todoItems')
            todoCollection.orderBy('todoText').onSnapshot(
                function(collectionSnapshot) {
                    let html = '<ul>'
                    collectionSnapshot.forEach(
                        function (todoItemSnapshot) {
                            let todoItem = todoItemSnapshot.data()
                            html += `<li> ${todoItem.todoText} ( ${todoItem.todoDate} ) </li>`
                        });
                        html += `</ul>`;
                        document.getElementById('todo').innerHTML = html;
                });

            function add(inputTag) {
                let todoItem = {
                    todoText: inputTag.value,
                    todoDate: new Date(),
                }
                todoCollection.add(todoItem);
            }
    </script>
</body>

</html>